<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
    <link rel="stylesheet" href="style.css"/>
    <title>add a team mate</title>
</head>
<body>

<div>
    <label for="name">
        <input type="text" id="name"/>
    </label>
</div>

<script type="text/javascript" src="../platform/cobalt.js"></script>
<script type="text/javascript" src="app.js"></script>
<script>


    document.addEventListener("DOMContentLoaded", function() {

        cobalt.init({
            debug: true,
            //debugInBrowser:true
        });

        cobalt.nativeBars.setEventListener(function (item, event) {
            switch (item) {
                case "add":
                    store();
                    break; 
                default :
                    cobalt.log('An unknown button has been pressed.');
                    break;
            }
        });



        function store(){
            var nameInput = document.getElementById('name');

            
            //TODO check for valid input
            app.save({ "name": nameInput.value});

            
            //return back to main page
            cobalt.navigate.pop();
        }


        document.getElementById('ok').addEventListener('click', store);

    });

</script>
</body>
</html>
